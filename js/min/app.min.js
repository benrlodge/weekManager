(function(){var t,e,o={}.hasOwnProperty,r=function(t,e){function r(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};t=!0,e=function(e){return t?console.log(e):void 0},$(function(){var t,o,n,i,s,a,c,p,u,h,l;return o={enter:13,esc:27},t={Mon:".mon",mon:".mon",monday:".mon",Tue:"tue",tue:".tue",Wed:".wed",wed:".wed",Thur:".thur",thur:".thur",Fri:".fri",fri:".fri",today:".today",td:".today",tomorrow:".tomorrow",tom:".tomorrow",od:".onDeck",bb:".backburner"},n=function(t){function e(){return u=e.__super__.constructor.apply(this,arguments)}return r(e,t),e.prototype.defaults={target:".backBurner",detail:"empty"},e.prototype.initialize=function(){return _.bindAll(this,"name_update")},e.prototype.name_update=function(){var t;return t=a.get("title")},e.prototype.complete_task=function(){return this.set({complete:!0})},e.prototype.incomplete_task=function(){return this.set({complete:!1})},e}(Backbone.Model),a=new n,i=function(t){function o(){return h=o.__super__.constructor.apply(this,arguments)}return r(o,t),o.prototype.model=n,o.prototype.initialize=function(){return e("init the collectioonayy"),this.on("add",this.newTask,this),this.on("change",this.change,this)},o.prototype.newTask=function(t){return e("i made me some collection!!!"),e("welcome: "+t.get("detail")),e(t)},o.prototype.change=function(){return e("model has been changed")},o}(Backbone.Collection),c=new i,s=function(n){function s(){return l=s.__super__.constructor.apply(this,arguments)}return r(s,n),s.prototype.el=$("body"),s.prototype.clickStatus=!1,s.prototype.taskInputWrapper=".newTask",s.prototype.taskInput="#newTaskInput",s.prototype.onDeck=".onDeck",s.prototype.onDeckList=".onDeck ul",s.prototype.today="",s.prototype.template_week=Handlebars.compile($("#template_week").html()),s.prototype.initialize=function(){return e("Init View"),this.collection.on("add",this.render,this)},s.prototype.render=function(){var t,e,o,r,n,s,a,c,p,u;return o=this.collection.where({target:".mon"}),a=this.collection.where({target:".tue"}),p=this.collection.where({target:".wed"}),n=this.collection.where({target:".thur"}),t=this.collection.where({target:".fri"}),r=new i(o),c=new i(a),u=new i(p),s=new i(n),e=new i(t),$(".week").html(this.template_week({allTasks:this.collection.toJSON(),monTasks:r.toJSON(),tueTasks:c.toJSON(),wedTasks:u.toJSON(),thurTasks:s.toJSON(),friTasks:e.toJSON()}))},s.prototype.events=function(){return{keypress:"searchKeyPress",keyup:"searchKeyUp"}},s.prototype.searchHide=function(){return this.searchStatus=!1,$(this.taskInputWrapper).hide(),$(this.taskInput).val(""),this.clickStatus=!1},s.prototype.searchShow=function(){return this.searchStatus=!0,$(this.taskInputWrapper).show(),$(this.taskInput).focus(),this.clickStatus=!0},s.prototype.searchKeyPress=function(t){return t.keyCode===o.enter?this.searchComplete():this.searchShow()},s.prototype.searchKeyUp=function(t){return t.keyCode===o.esc&&this.searchStatus?this.searchHide():void 0},s.prototype.searchComplete=function(){var t;return a=$(this.taskInput).val().trim(),t=this.searchDirectives(a),this.addTask(t),this.searchHide()},s.prototype.searchDirectives=function(e){var o,r,n,i,s,a,c;r=e,s=e.split(":"),i=s[0],n=s[1],c=0;for(o in t)if(a=t[o],o===i)return c++,{directive:a,detail:n};return 0===c?{directive:".backburner",detail:e}:void 0},s.prototype.addTask=function(t){var e,o;return o=t.directive,e=t.detail,c.add({target:t.directive,detail:t.detail})},s}(Backbone.View),p=new s({collection:c})})}).call(this);